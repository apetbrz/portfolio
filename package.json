{
    "name": "portfolio",
    "version": "0.0.0",
    "description": "my web portfolio",
    "license": "MIT",
    "author": "Arthur Petroff",
    "workspaces": [
        "client",
        "server",
        "wasm"
    ],
    "scripts": {
        "init": "npm install && cd wasm && cargo install",
        "dev": "tmux new-session -s 'portfolio (dev)' 'npm run dev:server' \\; split-window 'npm run dev:client:js' \\; split-window 'npm run dev:client:wasm' \\; select-layout even-horizontal \\;",
        "dev:client:js": "cd client && npm run dev",
        "dev:client:wasm": "cd wasm && bacon clippy",
        "dev:server": "while true; echo 'UNIMPL.'; do sleep 5; done",
        "build": "npm run build:client:wasm && npm run build:client:js",
        "build:client:js": "cd client && npm run build",
        "build:client:wasm": "cd wasm && cargo build --release && wasm-bindgen target/wasm32-unknown-unknown/release/portfolio.wasm --out-dir ../client/src/lib/pkg",
        "clean:dev": "rm -r wasm/target/debug wasm/target/wasm32-unknown-unknown/debug client/src/lib/pkg",
        "clean:release": "rm -r wasm/target/release wasm/target/wasm32-unknown-unknown/release dist",
        "start": "cd server && export IS_RELEASE=1 && cargo run --release"
    }
}
